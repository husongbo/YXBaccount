<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
		<meta name="misapplication-tap-highlight" content="no"/>
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<title>DEMO</title>
		<link type="text/css" href="../../Common/css/common.css" />
		<script src="../../plugins/jquery/jquery-3.1.1.js" type="text/javascript"></script>
		<script src="../js/sdk.js" type="text/javascript"></script>
		
		<script id="ItemList_Template" type="text/template">
			<div id="{{val}}" 
				style="width:100%;background-color: red;" 
				grid_rows="40,*1,*1,*1" 
				grid_columns="40,*1,*1,*1">
				
				<div style=" margin:auto;background-color: gray;"> {{val}} </div>
			</div>
		</script>
		<script type="text/javascript">
			var data = {
					'obj':{'val':'点击：0','count':0},
					'ary':[{'val':'zhw1'},{'val':'zhw2'},{'val':'zhw3'}]
			};
			$(function(){

				$$.Fill("#ItemList",data.ary);
				
				data.obj.count = 3;
				
//				for (var i = 0; i <  3; i++) {
//					$$.Layout("#zhw" + (data.obj.count - i));
//				}
				
				$("#btnLoad").click(function(){
					btn_click();
				});
			
			}); 

			function btn_click(){
				$$.Log("$Init");
				$$.Log("$StartTime");
								
				$$.Fill("#ItemList",function(){
					for (var i = 0; i < data.ary.length; i++) {
						data.ary[i].val = "zhw" + (data.obj.count + 1); 
						data.obj.count++;
					}
										
					return data.ary;
				});
//				for (var i = 0; i <  3; i++) {
//					$$.Layout("#zhw" + (data.obj.count - i));
//				}
				
				$$.Log("$EndTime");
			}
		</script>
	</head>
	<body style="overflow: hidden;">
		<div>
			<input id="btnLoad" type="button" value="加载更多"></input>
			<div id="ItemList"></div>
		</div>
		<script type="text/javascript" src="../js/immersed.js"  ></script>
	</body>
</html>
 